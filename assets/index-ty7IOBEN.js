var Oe=Object.defineProperty;var Me=(t,e,n)=>e in t?Oe(t,e,{enumerable:!0,configurable:!0,writable:!0,value:n}):t[e]=n;var N=(t,e,n)=>(Me(t,typeof e!="symbol"?e+"":e,n),n);(function(){const e=document.createElement("link").relList;if(e&&e.supports&&e.supports("modulepreload"))return;for(const c of document.querySelectorAll('link[rel="modulepreload"]'))i(c);new MutationObserver(c=>{for(const s of c)if(s.type==="childList")for(const a of s.addedNodes)a.tagName==="LINK"&&a.rel==="modulepreload"&&i(a)}).observe(document,{childList:!0,subtree:!0});function n(c){const s={};return c.integrity&&(s.integrity=c.integrity),c.referrerPolicy&&(s.referrerPolicy=c.referrerPolicy),c.crossOrigin==="use-credentials"?s.credentials="include":c.crossOrigin==="anonymous"?s.credentials="omit":s.credentials="same-origin",s}function i(c){if(c.ep)return;c.ep=!0;const s=n(c);fetch(c.href,s)}})();function L(){}function Ce(t){return t()}function le(){return Object.create(null)}function A(t){t.forEach(Ce)}function be(t){return typeof t=="function"}function W(t,e){return t!=t?e==e:t!==e||t&&typeof t=="object"||typeof t=="function"}let Z;function ue(t,e){return t===e?!0:(Z||(Z=document.createElement("a")),Z.href=e,t===Z.href)}function je(t){return Object.keys(t).length===0}function Re(t,...e){if(t==null){for(const i of e)i(void 0);return L}const n=t.subscribe(...e);return n.unsubscribe?()=>n.unsubscribe():n}function ce(t,e,n){t.$$.on_destroy.push(Re(e,n))}function _(t,e){t.appendChild(e)}function b(t,e,n){t.insertBefore(e,n||null)}function C(t){t.parentNode&&t.parentNode.removeChild(t)}function re(t,e){for(let n=0;n<t.length;n+=1)t[n]&&t[n].d(e)}function B(t){return document.createElement(t)}function D(t){return document.createTextNode(t)}function v(){return D(" ")}function R(t,e,n,i){return t.addEventListener(e,n,i),()=>t.removeEventListener(e,n,i)}function S(t,e,n){n==null?t.removeAttribute(e):t.getAttribute(e)!==n&&t.setAttribute(e,n)}function Te(t){return Array.from(t.childNodes)}function Y(t,e){e=""+e,t.data!==e&&(t.data=e)}function fe(t,e){t.value=e??""}function ge(t,e,n){t.classList.toggle(e,!!n)}function Fe(t,e,{bubbles:n=!1,cancelable:i=!1}={}){return new CustomEvent(t,{detail:e,bubbles:n,cancelable:i})}let Q;function q(t){Q=t}function Ee(){if(!Q)throw new Error("Function called outside component initialization");return Q}function Ae(){const t=Ee();return(e,n,{cancelable:i=!1}={})=>{const c=t.$$.callbacks[e];if(c){const s=Fe(e,n,{cancelable:i});return c.slice().forEach(a=>{a.call(t,s)}),!s.defaultPrevented}return!0}}const I=[],de=[];let H=[];const me=[],Ve=Promise.resolve();let oe=!1;function Ge(){oe||(oe=!0,Ve.then(Pe))}function se(t){H.push(t)}const ie=new Set;let V=0;function Pe(){if(V!==0)return;const t=Q;do{try{for(;V<I.length;){const e=I[V];V++,q(e),Ie(e.$$)}}catch(e){throw I.length=0,V=0,e}for(q(null),I.length=0,V=0;de.length;)de.pop()();for(let e=0;e<H.length;e+=1){const n=H[e];ie.has(n)||(ie.add(n),n())}H.length=0}while(I.length);for(;me.length;)me.pop()();oe=!1,ie.clear(),q(t)}function Ie(t){if(t.fragment!==null){t.update(),A(t.before_update);const e=t.dirty;t.dirty=[-1],t.fragment&&t.fragment.p(t.ctx,e),t.after_update.forEach(se)}}function Ke(t){const e=[],n=[];H.forEach(i=>t.indexOf(i)===-1?e.push(i):n.push(i)),n.forEach(i=>i()),H=e}const U=new Set;let T;function ve(){T={r:0,c:[],p:T}}function Le(){T.r||A(T.c),T=T.p}function O(t,e){t&&t.i&&(U.delete(t),t.i(e))}function E(t,e,n,i){if(t&&t.o){if(U.has(t))return;U.add(t),T.c.push(()=>{U.delete(t),i&&(n&&t.d(1),i())}),t.o(e)}else i&&i()}function K(t){return(t==null?void 0:t.length)!==void 0?t:Array.from(t)}function ae(t){t&&t.c()}function x(t,e,n){const{fragment:i,after_update:c}=t.$$;i&&i.m(e,n),se(()=>{const s=t.$$.on_mount.map(Ce).filter(be);t.$$.on_destroy?t.$$.on_destroy.push(...s):A(s),t.$$.on_mount=[]}),c.forEach(se)}function ee(t,e){const n=t.$$;n.fragment!==null&&(Ke(n.after_update),A(n.on_destroy),n.fragment&&n.fragment.d(e),n.on_destroy=n.fragment=null,n.ctx=[])}function He(t,e){t.$$.dirty[0]===-1&&(I.push(t),Ge(),t.$$.dirty.fill(0)),t.$$.dirty[e/31|0]|=1<<e%31}function te(t,e,n,i,c,s,a=null,d=[-1]){const m=Q;q(t);const g=t.$$={fragment:null,ctx:[],props:s,update:L,not_equal:c,bound:le(),on_mount:[],on_destroy:[],on_disconnect:[],before_update:[],after_update:[],context:new Map(e.context||(m?m.$$.context:[])),callbacks:le(),dirty:d,skip_bound:!1,root:e.target||m.$$.root};a&&a(g.root);let y=!1;if(g.ctx=n?n(t,e.props||{},(w,p,...h)=>{const l=h.length?h[0]:p;return g.ctx&&c(g.ctx[w],g.ctx[w]=l)&&(!g.skip_bound&&g.bound[w]&&g.bound[w](l),y&&He(t,w)),p}):[],g.update(),y=!0,A(g.before_update),g.fragment=i?i(g.ctx):!1,e.target){if(e.hydrate){const w=Te(e.target);g.fragment&&g.fragment.l(w),w.forEach(C)}else g.fragment&&g.fragment.c();e.intro&&O(t.$$.fragment),x(t,e.target,e.anchor),Pe()}q(m)}class ne{constructor(){N(this,"$$");N(this,"$$set")}$destroy(){ee(this,1),this.$destroy=L}$on(e,n){if(!be(n))return L;const i=this.$$.callbacks[e]||(this.$$.callbacks[e]=[]);return i.push(n),()=>{const c=i.indexOf(n);c!==-1&&i.splice(c,1)}}$set(e){this.$$set&&!je(e)&&(this.$$.skip_bound=!0,this.$$set(e),this.$$.skip_bound=!1)}}const De="4";typeof window<"u"&&(window.__svelte||(window.__svelte={v:new Set})).v.add(De);class f{constructor(e,n){N(this,"name");N(this,"unit");this.name=e,this.unit=n}}var u=(t=>(t[t.piece=0]="piece",t[t.spice=1]="spice",t[t.g=2]="g",t[t.kg=3]="kg",t[t.l=4]="l",t[t.ml=5]="ml",t))(u||{});class P{constructor(e,n,i,c){N(this,"title");N(this,"description");N(this,"imageUrl");N(this,"ingredients");this.title=e,this.description=n,this.imageUrl=i,this.ingredients=c}}class o{constructor(e,n,i=!1){N(this,"product");N(this,"amount");N(this,"optional");this.product=e,this.amount=n,this.optional=i}}const J=class J{static getByName(e){return this._productsMap.has(e)||console.error(`${e} does not exist`),this._productsMap.get(e)}};N(J,"all",[new f("Almond",u.piece),new f("Avocado",u.piece),new f("Baking Powder",u.g),new f("Baking Soda",u.g),new f("Bao Buns",u.piece),new f("Basil",u.g),new f("BBQ Sauce",u.spice),new f("Broccoli",u.g),new f("Butter",u.g),new f("Buttermilk",u.ml),new f("Carrot",u.g),new f("Cherry Tomato",u.g),new f("Chicken Breast",u.g),new f("Coconut Flakes",u.g),new f("Coconut Milk",u.ml),new f("Creme Fraiche",u.ml),new f("Cucumber",u.piece),new f("Curry",u.spice),new f("Dark Chocolate",u.g),new f("Dried Apricots",u.g),new f("Dried Tomato",u.g),new f("Eggs",u.piece),new f("Feta Cheese",u.g),new f("Fettuccine Pasta",u.g),new f("Flour",u.g),new f("Frozen Salmon",u.g),new f("Frozen Vegetables",u.g),new f("Garlic",u.piece),new f("Gnocchi",u.piece),new f("Greek Yogurt",u.ml),new f("Ground Beef",u.g),new f("Half Cream",u.ml),new f("Lemon",u.piece),new f("Lime",u.piece),new f("Mayo",u.ml),new f("Milk",u.ml),new f("Mint",u.spice),new f("Mushrooms",u.g),new f("Nachos",u.g),new f("Natural Yogurt",u.ml),new f("Oil",u.ml),new f("Olive Oil",u.ml),new f("Onion",u.piece),new f("Parmesan Cheese",u.g),new f("Parsley",u.spice),new f("Pepper",u.spice),new f("Pine Nuts",u.g),new f("Potatoes",u.g),new f("Powdered Sugar",u.g),new f("Red Bean (canned)",u.g),new f("Rice",u.g),new f("Rucola",u.g),new f("Salad",u.piece),new f("Salmon",u.g),new f("Salt",u.spice),new f("Sesame Oil",u.ml),new f("Soya Sauce",u.ml),new f("Spinach",u.g),new f("Spring Onion",u.piece),new f("Sriracha Sauce",u.spice),new f("Sugar",u.g),new f("Sweet Corn (canned)",u.g),new f("Sweet Paprika",u.spice),new f("Tomato Pulp (canned)",u.g),new f("Tomato",u.piece),new f("Tortillas",u.piece),new f("Wild Rice",u.g),new f("Yellow Paprika",u.piece),new f("Peas",u.g),new f("Lemon Juice",u.ml),new f("Penne Pasta",u.g),new f("Pumpkin Puree",u.g),new f("Quark",u.g),new f("Oatmeal",u.g),new f("Honey",u.ml)]),N(J,"_productsMap",new Map(J.all.map(e=>[e.name,e])));let r=J;var F;let pe=(F=class{static getByTitle(e){return this._recipesMap.get(e)}},N(F,"all",[new P("Pumpkin Pancakes with Cheese","description","images/Pumpkin_Pancakes_with_Cheese.jpg",[new o(r.getByName("Pumpkin Puree"),320),new o(r.getByName("Quark"),150),new o(r.getByName("Oatmeal"),200),new o(r.getByName("Eggs"),1),new o(r.getByName("Flour"),200),new o(r.getByName("Honey"),12),new o(r.getByName("Oil"),6)]),new P("Pea and Basil Pesto","description","images/Pea_and_Basil_Pesto.jpg",[new o(r.getByName("Basil"),50),new o(r.getByName("Peas"),150),new o(r.getByName("Pine Nuts"),25),new o(r.getByName("Garlic"),1),new o(r.getByName("Olive Oil"),18),new o(r.getByName("Lemon Juice"),6),new o(r.getByName("Penne Pasta"),200)]),new P("Chicken Souflaki","description","images/Chicken_Souflaki.jpeg",[new o(r.getByName("Chicken Breast"),300),new o(r.getByName("Lemon"),1),new o(r.getByName("Garlic"),1),new o(r.getByName("Cucumber"),1),new o(r.getByName("Rice"),150),new o(r.getByName("Tomato"),2),new o(r.getByName("Greek Yogurt"),100),new o(r.getByName("Olive Oil"),50),new o(r.getByName("Onion"),1)]),new P("Coconut Soup with Beans","description","images/Coconut_Soup_with_Beans.jpeg",[new o(r.getByName("Yellow Paprika"),1),new o(r.getByName("Garlic"),1),new o(r.getByName("Lime"),1),new o(r.getByName("Tomato Pulp (canned)"),1),new o(r.getByName("Tortillas"),2),new o(r.getByName("Coconut Milk"),100),new o(r.getByName("Red Bean (canned)"),100),new o(r.getByName("Onion"),1),new o(r.getByName("Coconut Flakes"),50)]),new P("Mexican Chicken With Salad","description","images/Mexican_Chicken_with_Salad.jpeg",[new o(r.getByName("Chicken Breast"),300),new o(r.getByName("Salad"),1),new o(r.getByName("Sweet Corn (canned)"),150),new o(r.getByName("Lime"),1),new o(r.getByName("Tortillas"),1),new o(r.getByName("Onion"),1),new o(r.getByName("Red Bean (canned)"),150)]),new P("Gnocchi with Spinach","description","images/Gnocchi_with_Spinach.jpeg",[new o(r.getByName("Pine Nuts"),50),new o(r.getByName("Parmesan Cheese"),1),new o(r.getByName("Spinach"),75),new o(r.getByName("Gnocchi"),400),new o(r.getByName("Creme Fraiche"),100),new o(r.getByName("Garlic"),1),new o(r.getByName("Basil"),1)]),new P("Bao Buns with Vegetables","description","images/Bao_Buns_ith_Vegetables.jpeg",[new o(r.getByName("Bao Buns"),4),new o(r.getByName("Cucumber"),1),new o(r.getByName("Mayo"),1),new o(r.getByName("Garlic"),1),new o(r.getByName("Carrot"),100),new o(r.getByName("Potatoes"),200),new o(r.getByName("Mushrooms"),200),new o(r.getByName("Sriracha Sauce"),1),new o(r.getByName("Sesame Oil"),10),new o(r.getByName("Spring Onion"),1),new o(r.getByName("Soya Sauce"),10),new o(r.getByName("Mint"),1)]),new P("Chicken in Apricot-Curry Sauce","description","images/Chicken_in_Apricot_Curry_Sauce.jpeg",[new o(r.getByName("Chicken Breast"),240),new o(r.getByName("Garlic"),1),new o(r.getByName("Wild Rice"),100),new o(r.getByName("Sweet Paprika"),1),new o(r.getByName("Onion"),1),new o(r.getByName("Carrot"),100),new o(r.getByName("Parsley"),1),new o(r.getByName("Curry"),1),new o(r.getByName("Dried Apricots"),50)]),new P("Fettuccine Pasta with Salmon","description","images/Fettuccine_Pasta_with_Salmon.jpeg",[new o(r.getByName("Fettuccine Pasta"),270),new o(r.getByName("Salmon"),250),new o(r.getByName("Broccoli"),250),new o(r.getByName("Spring Onion"),2),new o(r.getByName("Garlic"),1),new o(r.getByName("Half Cream"),250),new o(r.getByName("Lemon"),1)]),new P("Mexican Salad with BBQ Chicken","description","images/Mexican_Salad_with_Bbq_Chicken.jpeg",[new o(r.getByName("Chicken Breast"),350),new o(r.getByName("Salad"),1),new o(r.getByName("Tomato"),2),new o(r.getByName("Mayo"),2),new o(r.getByName("Red Bean (canned)"),200),new o(r.getByName("Lime"),1),new o(r.getByName("BBQ Sauce"),1),new o(r.getByName("Nachos"),100),new o(r.getByName("Sweet Corn (canned)"),150)]),new P("Spanish Baked Potatoes","description","images/Spanish_Baked_Potatoes.jpeg",[new o(r.getByName("Potatoes"),500),new o(r.getByName("Feta Cheese"),100),new o(r.getByName("Cherry Tomato"),2),new o(r.getByName("Almond"),10),new o(r.getByName("Natural Yogurt"),100),new o(r.getByName("Rucola"),100),new o(r.getByName("Dried Tomato"),100)]),new P("Simple Brownie","description","images/Simple_Brownie.jpeg",[new o(r.getByName("Dark Chocolate"),250),new o(r.getByName("Butter"),200),new o(r.getByName("Eggs"),3),new o(r.getByName("Sugar"),250),new o(r.getByName("Flour"),135),new o(r.getByName("Salt"),1)]),new P("Baked Salmon With Vegetables","description","images/Baked_Salmon_with_Vegetables.jpeg",[new o(r.getByName("Frozen Salmon"),250),new o(r.getByName("Frozen Vegetables"),700)]),new P("Simple Burrito","description","images/Simple_Burrito.jpeg",[new o(r.getByName("Salt"),1),new o(r.getByName("Tortillas"),4),new o(r.getByName("Sweet Corn (canned)"),350),new o(r.getByName("Ground Beef"),500),new o(r.getByName("Avocado"),1),new o(r.getByName("Onion"),1),new o(r.getByName("Tomato"),2),new o(r.getByName("Pepper"),100),new o(r.getByName("Red Bean (canned)"),200),new o(r.getByName("Rice"),100)]),new P("American Pancakes","description","images/American_Pancakes.jpeg",[new o(r.getByName("Eggs"),1),new o(r.getByName("Flour"),300),new o(r.getByName("Butter"),300),new o(r.getByName("Powdered Sugar"),300),new o(r.getByName("Baking Powder"),3),new o(r.getByName("Baking Soda"),2.5),new o(r.getByName("Salt"),1),new o(r.getByName("Oil"),30)])]),N(F,"_recipesMap",new Map(F.all.map(e=>[e.title,e]))),F);const G=[];function he(t,e=L){let n;const i=new Set;function c(d){if(W(t,d)&&(t=d,n)){const m=!G.length;for(const g of i)g[1](),G.push(g,t);if(m){for(let g=0;g<G.length;g+=2)G[g][0](G[g+1]);G.length=0}}}function s(d){c(d(t))}function a(d,m=L){const g=[d,m];return i.add(g),i.size===1&&(n=e(c,s)||L),d(t),()=>{i.delete(g),i.size===0&&n&&(n(),n=null)}}return{set:c,update:s,subscribe:a}}class ze{constructor(){N(this,"productsList",he([]));N(this,"recipesList",he([]));N(this,"recipesCountsStorageKey","recipesCounts");N(this,"checkedProductsStorageKey","checkedProducts");N(this,"currentViewStorageKey","currentView");N(this,"version","0.2");N(this,"versionStorageKey","version");N(this,"recipesCounts",new Map);N(this,"productsTotalAmount",new Map);N(this,"checkedProducts",new Set);N(this,"currentView",0);this.checkLocalStorage(),this.loadRecipesCountsFromLocalStorage(),this.loadCheckedProductsFromLocalStorage(),this.loadCurrentViewFromLocalStorage(),this.update()}setCount(e,n){this.recipesCounts.set(e.title,n),n<=0&&this.recipesCounts.delete(e.title),e.ingredients.forEach(i=>{this.checkedProducts.delete(i.product.name)}),this.update()}addRecipeToList(e){const n=this.recipesCounts.has(e.title)?this.recipesCounts.get(e.title):0;this.setCount(e,n+1)}removeRecipeFromList(e){if(!this.recipesCounts.has(e.title))return;const n=this.recipesCounts.get(e.title);n>0&&this.setCount(e,n-1)}checkProduct(e){this.checkedProducts.has(e.name)||(this.checkedProducts.add(e.name),this.update())}uncheckProduct(e){this.checkedProducts.has(e.name)&&(this.checkedProducts.delete(e.name),this.update())}getCurrentView(){return this.currentView}setCurrentView(e){localStorage.setItem(this.currentViewStorageKey,e.toString())}update(){this.productsTotalAmount.clear(),pe.all.forEach(e=>{const n=this.recipesCounts.has(e.title)?this.recipesCounts.get(e.title):0;n<=0||e.ingredients.forEach(i=>{let c=this.productsTotalAmount.get(i.product.name)??0;this.productsTotalAmount.set(i.product.name,c+i.amount*n)})}),this.recipesList.set([]),pe.all.forEach(e=>{const n=this.recipesCounts.has(e.title)?this.recipesCounts.get(e.title):0;this.recipesList.update(i=>(i.push({recipe:e,count:n}),i))}),this.productsList.set([]),this.productsTotalAmount.forEach((e,n)=>{this.productsList.update(i=>(i.push({product:r.getByName(n),amount:e,checked:this.checkedProducts.has(n)}),i))}),localStorage.setItem(this.recipesCountsStorageKey,JSON.stringify(Array.from(this.recipesCounts.entries()))),localStorage.setItem(this.checkedProductsStorageKey,JSON.stringify(Array.from(this.checkedProducts.values())))}loadRecipesCountsFromLocalStorage(){const e=localStorage.getItem(this.recipesCountsStorageKey);e&&(this.recipesCounts=new Map(JSON.parse(e)))}loadCheckedProductsFromLocalStorage(){const e=localStorage.getItem(this.checkedProductsStorageKey);e&&JSON.parse(e).forEach(i=>this.checkedProducts.add(i))}loadCurrentViewFromLocalStorage(){this.currentView=parseInt(localStorage.getItem(this.currentViewStorageKey)??"0")}checkLocalStorage(){localStorage.getItem(this.versionStorageKey)!=this.version&&(localStorage.clear(),localStorage.setItem(this.versionStorageKey,this.version))}}const M=new ze,$e=M.recipesList,qe=M.productsList;function Je(t){return M.addRecipeToList(t)}function Ye(t){return M.removeRecipeFromList(t)}function Qe(t,e){return M.setCount(t,e)}function We(t){return M.checkProduct(t.product)}function Xe(t){return M.uncheckProduct(t.product)}function Ze(){return M.getCurrentView()}function we(t){return M.setCurrentView(t)}function ye(t,e,n){const i=t.slice();return i[10]=e[n],i}function _e(t,e,n){const i=t.slice();return i[13]=e[n],i}function Be(t){let e,n,i=t[13].recipe.title+"",c,s,a,d,m,g=t[13].count+"",y,w,p,h,l,k;function $(){return t[7](t[13])}function j(){return t[8](t[13])}return{c(){e=B("li"),n=B("span"),c=D(i),s=v(),a=B("button"),a.innerHTML='<i class="fa-solid fa-minus"></i>',d=v(),m=B("span"),y=D(g),w=v(),p=B("button"),p.innerHTML='<i class="fa-solid fa-plus"></i>',h=v(),S(a,"class","svelte-mwjkgt"),S(p,"class","svelte-mwjkgt")},m(z,X){b(z,e,X),_(e,n),_(n,c),_(e,s),_(e,a),_(e,d),_(e,m),_(m,y),_(e,w),_(e,p),_(e,h),l||(k=[R(a,"click",$),R(p,"click",j)],l=!0)},p(z,X){t=z,X&2&&i!==(i=t[13].recipe.title+"")&&Y(c,i),X&2&&g!==(g=t[13].count+"")&&Y(y,g)},d(z){z&&C(e),l=!1,A(k)}}}function Ne(t){let e,n,i=t[10].product.name+"",c,s,a,d=t[10].amount+"",m,g,y,w,p,h,l;function k(...$){return t[9](t[10],...$)}return{c(){e=B("li"),n=B("span"),c=D(i),s=v(),a=B("span"),m=D(d),g=v(),y=B("input"),p=v(),S(y,"type","checkbox"),y.checked=w=t[10].checked,S(e,"class","svelte-mwjkgt"),ge(e,"checked",t[10].checked)},m($,j){b($,e,j),_(e,n),_(n,c),_(e,s),_(e,a),_(a,m),_(e,g),_(e,y),_(e,p),h||(l=R(y,"change",k),h=!0)},p($,j){t=$,j&1&&i!==(i=t[10].product.name+"")&&Y(c,i),j&1&&d!==(d=t[10].amount+"")&&Y(m,d),j&1&&w!==(w=t[10].checked)&&(y.checked=w),j&1&&ge(e,"checked",t[10].checked)},d($){$&&C(e),h=!1,l()}}}function Ue(t){let e,n,i,c,s,a,d,m=K(t[1]),g=[];for(let p=0;p<m.length;p+=1)g[p]=Be(_e(t,m,p));let y=K(t[0]),w=[];for(let p=0;p<y.length;p+=1)w[p]=Ne(ye(t,y,p));return{c(){e=B("h1"),e.textContent="Meals:",n=v(),i=B("ul");for(let p=0;p<g.length;p+=1)g[p].c();c=v(),s=B("h1"),s.textContent="Products:",a=v(),d=B("ul");for(let p=0;p<w.length;p+=1)w[p].c()},m(p,h){b(p,e,h),b(p,n,h),b(p,i,h);for(let l=0;l<g.length;l+=1)g[l]&&g[l].m(i,null);b(p,c,h),b(p,s,h),b(p,a,h),b(p,d,h);for(let l=0;l<w.length;l+=1)w[l]&&w[l].m(d,null)},p(p,[h]){if(h&14){m=K(p[1]);let l;for(l=0;l<m.length;l+=1){const k=_e(p,m,l);g[l]?g[l].p(k,h):(g[l]=Be(k),g[l].c(),g[l].m(i,null))}for(;l<g.length;l+=1)g[l].d(1);g.length=m.length}if(h&17){y=K(p[0]);let l;for(l=0;l<y.length;l+=1){const k=ye(p,y,l);w[l]?w[l].p(k,h):(w[l]=Ne(k),w[l].c(),w[l].m(d,null))}for(;l<w.length;l+=1)w[l].d(1);w.length=y.length}},i:L,o:L,d(p){p&&(C(e),C(n),C(i),C(c),C(s),C(a),C(d)),re(g,p),re(w,p)}}}function xe(t,e,n){let i,c,s,a;ce(t,qe,h=>n(5,s=h)),ce(t,$e,h=>n(6,a=h));function d(h){Ye(h.recipe)}function m(h){Je(h.recipe)}function g(h,l){l.target.checked?We(h):Xe(h)}const y=h=>d(h),w=h=>m(h),p=(h,l)=>g(h,l);return t.$$.update=()=>{t.$$.dirty&64&&n(1,i=a.filter(h=>h.count>0)),t.$$.dirty&32&&n(0,c=s.filter(h=>h.amount>0))},[c,i,d,m,g,s,a,y,w,p]}class et extends ne{constructor(e){super(),te(this,e,xe,Ue,W,{})}}function tt(t){let e,n,i;return{c(){e=B("button"),e.innerHTML='<i class="fa-solid fa-cart-plus"></i>',S(e,"class","svelte-1tj1nf8")},m(c,s){b(c,e,s),n||(i=R(e,"click",t[3]),n=!0)},p:L,d(c){c&&C(e),n=!1,i()}}}function nt(t){let e,n,i;return{c(){e=B("button"),e.innerHTML='<i class="fa-solid fa-check"></i>',S(e,"class","checked-button svelte-1tj1nf8")},m(c,s){b(c,e,s),n||(i=R(e,"click",t[2]),n=!0)},p:L,d(c){c&&C(e),n=!1,i()}}}function it(t){let e,n,i,c,s,a,d,m,g=t[1].title+"",y;function w(l,k){return l[0]?nt:tt}let p=w(t),h=p(t);return{c(){e=B("div"),n=B("div"),i=B("img"),s=v(),h.c(),a=v(),d=B("div"),m=B("h3"),y=D(g),ue(i.src,c=t[1].imageUrl)||S(i,"src",c),S(i,"alt","recipe"),S(i,"class","svelte-1tj1nf8"),S(n,"class","card-image svelte-1tj1nf8"),S(m,"class","svelte-1tj1nf8"),S(d,"class","card-title"),S(e,"class","card svelte-1tj1nf8")},m(l,k){b(l,e,k),_(e,n),_(n,i),_(n,s),h.m(n,null),_(e,a),_(e,d),_(d,m),_(m,y)},p(l,[k]){k&2&&!ue(i.src,c=l[1].imageUrl)&&S(i,"src",c),p===(p=w(l))&&h?h.p(l,k):(h.d(1),h=p(l),h&&(h.c(),h.m(n,null))),k&2&&g!==(g=l[1].title+"")&&Y(y,g)},i:L,o:L,d(l){l&&C(e),h.d()}}}function ct(t,e,n){let{recipe:i}=e,{count:c=0}=e;const s=Ae();function a(){n(0,c=0),s("countChange",{recipe:i,count:c})}function d(){n(0,c=1),s("countChange",{recipe:i,count:c})}return t.$$set=m=>{"recipe"in m&&n(1,i=m.recipe),"count"in m&&n(0,c=m.count)},[c,i,a,d]}class rt extends ne{constructor(e){super(),te(this,e,ct,it,W,{recipe:1,count:0})}}function ke(t,e,n){const i=t.slice();return i[2]=e[n],i}function Se(t){let e,n;return e=new rt({props:{recipe:t[2].recipe,count:t[2].count}}),e.$on("countChange",t[1]),{c(){ae(e.$$.fragment)},m(i,c){x(e,i,c),n=!0},p(i,c){const s={};c&1&&(s.recipe=i[2].recipe),c&1&&(s.count=i[2].count),e.$set(s)},i(i){n||(O(e.$$.fragment,i),n=!0)},o(i){E(e.$$.fragment,i),n=!1},d(i){ee(e,i)}}}function ot(t){let e,n,i=K(t[0]),c=[];for(let a=0;a<i.length;a+=1)c[a]=Se(ke(t,i,a));const s=a=>E(c[a],1,1,()=>{c[a]=null});return{c(){e=B("div");for(let a=0;a<c.length;a+=1)c[a].c();S(e,"class","container svelte-1hkjbga")},m(a,d){b(a,e,d);for(let m=0;m<c.length;m+=1)c[m]&&c[m].m(e,null);n=!0},p(a,[d]){if(d&3){i=K(a[0]);let m;for(m=0;m<i.length;m+=1){const g=ke(a,i,m);c[m]?(c[m].p(g,d),O(c[m],1)):(c[m]=Se(g),c[m].c(),O(c[m],1),c[m].m(e,null))}for(ve(),m=i.length;m<c.length;m+=1)s(m);Le()}},i(a){if(!n){for(let d=0;d<i.length;d+=1)O(c[d]);n=!0}},o(a){c=c.filter(Boolean);for(let d=0;d<c.length;d+=1)E(c[d]);n=!1},d(a){a&&C(e),re(c,a)}}}function st(t,e,n){let{recipesList:i=[]}=e;function c(s){Qe(s.detail.recipe,s.detail.count)}return t.$$set=s=>{"recipesList"in s&&n(0,i=s.recipesList)},[i,c]}class at extends ne{constructor(e){super(),te(this,e,st,ot,W,{recipesList:0})}}function lt(t){let e,n,i,c,s;return{c(){e=B("button"),e.innerHTML='<i class="fa-solid fa-arrow-left"></i>',n=v(),i=B("h1"),i.textContent="Shopping list",S(e,"class","svelte-13ebkfn"),S(i,"class","svelte-13ebkfn")},m(a,d){b(a,e,d),b(a,n,d),b(a,i,d),c||(s=R(e,"click",t[5]),c=!0)},p:L,d(a){a&&(C(e),C(n),C(i)),c=!1,s()}}}function ut(t){let e,n,i,c,s;return{c(){e=B("input"),n=v(),i=B("button"),i.innerHTML='<i class="fa-solid fa-cart-shopping"></i>',S(e,"type","text"),S(e,"class","search-box svelte-13ebkfn"),S(e,"placeholder","Search..."),S(i,"class","svelte-13ebkfn")},m(a,d){b(a,e,d),fe(e,t[0]),b(a,n,d),b(a,i,d),c||(s=[R(e,"input",t[7]),R(i,"click",t[4])],c=!0)},p(a,d){d&1&&e.value!==a[0]&&fe(e,a[0])},d(a){a&&(C(e),C(n),C(i)),c=!1,A(s)}}}function ft(t){let e,n;return e=new et({}),{c(){ae(e.$$.fragment)},m(i,c){x(e,i,c),n=!0},p:L,i(i){n||(O(e.$$.fragment,i),n=!0)},o(i){E(e.$$.fragment,i),n=!1},d(i){ee(e,i)}}}function gt(t){let e,n;return e=new at({props:{recipesList:t[2]}}),{c(){ae(e.$$.fragment)},m(i,c){x(e,i,c),n=!0},p(i,c){const s={};c&4&&(s.recipesList=i[2]),e.$set(s)},i(i){n||(O(e.$$.fragment,i),n=!0)},o(i){E(e.$$.fragment,i),n=!1},d(i){ee(e,i)}}}function dt(t){let e,n,i,c,s,a,d;function m(l,k){if(l[1]==l[3].Recipes)return ut;if(l[1]==l[3].ShoppingList)return lt}let g=m(t),y=g&&g(t);const w=[gt,ft],p=[];function h(l,k){return l[1]==l[3].Recipes?0:l[1]==l[3].ShoppingList?1:-1}return~(s=h(t))&&(a=p[s]=w[s](t)),{c(){e=B("main"),n=B("div"),y&&y.c(),i=v(),c=B("div"),a&&a.c(),S(n,"class","floating-toolbar svelte-13ebkfn"),S(c,"class","main-view")},m(l,k){b(l,e,k),_(e,n),y&&y.m(n,null),_(e,i),_(e,c),~s&&p[s].m(c,null),d=!0},p(l,[k]){g===(g=m(l))&&y?y.p(l,k):(y&&y.d(1),y=g&&g(l),y&&(y.c(),y.m(n,null)));let $=s;s=h(l),s===$?~s&&p[s].p(l,k):(a&&(ve(),E(p[$],1,1,()=>{p[$]=null}),Le()),~s?(a=p[s],a?a.p(l,k):(a=p[s]=w[s](l),a.c()),O(a,1),a.m(c,null)):a=null)},i(l){d||(O(a),d=!0)},o(l){E(a),d=!1},d(l){l&&C(e),y&&y.d(),~s&&p[s].d()}}}function mt(t,e){if(e.length==0)return t;const n=e.toLocaleLowerCase().split(/\s/);return t.filter(i=>{const c=(i.recipe.title+i.recipe.description+i.recipe.ingredients.map(s=>s.product.name).join()).toLocaleLowerCase();return n.every(s=>c.includes(s))})}function pt(t,e,n){let i,c;ce(t,$e,w=>n(6,c=w));var s=(w=>(w[w.Recipes=0]="Recipes",w[w.ShoppingList=1]="ShoppingList",w))(s||{});let a=Ze(),d="";function m(){n(1,a=1),we(a)}function g(){n(1,a=0),we(a)}function y(){d=this.value,n(0,d)}return t.$$.update=()=>{t.$$.dirty&65&&n(2,i=mt(c,d))},[d,a,i,s,m,g,c,y]}class ht extends ne{constructor(e){super(),te(this,e,pt,dt,W,{})}}new ht({target:document.getElementById("app")});
